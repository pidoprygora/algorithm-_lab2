## Лабораторна 2: Поліноміальний хеш і пов’язані алгоритми

### Поліноміальний ролінг-хеш (64-біт)
- Ідея: хеш рядка обчислюється як h = (h · base + code(ch)) mod 2^64 при посимвольному обході.
- У коді використано 64-бітове «циклічне переповнення» (маска 0xFFFFFFFFFFFFFFFF), що пришвидшує обчислення.
- Нормалізація: слова зводяться до нижнього регістру перед обробкою.
- Складність: O(n) для рядка довжини n.

### Множина рядків на основі хеш-таблиці (StringSet)
- Реалізація: хеш-таблиця з окремими ланцюжками (separate chaining).
- Місткість — степінь двійки; індексація бакета маскуванням `h & (capacity - 1)`.
- Ресайз: за коефіцієнта заповнення > 0.75 місткість подвоюється.
- Операції:
  - Додавання: амортизовано O(1).
  - Видалення: амортизовано O(1).
  - Перевірка існування: амортизовано O(1).

### Режим `ops` (інтерактивна робота з множиною)
- Команди:
  - `+ s` або `+s` — додати слово `s`.
  - `- s` або `-s` — видалити слово `s`.
  - `? s` або `?s` — перевірити наявність (виводить `yes`/`no`).
  - `p s` або `ps` — чи є `s` паліндром (виводить `yes`/`no`).
  - `.` — завершити сесію.
- Збереження у файл:
  - Прапорець `--store <шлях>` увімкне збереження слів у текстовий файл.
  - Слова завантажуються під час старту, а після кожної успішної зміни відразу перезаписуються у файл (по одному в рядок, відсортовано).

#### Приклад запуску (`PowerShell`)
```powershell
cd "C:\me\алгоритми\lab 1"
py .\lab2_polyhash.py ops --store .\words.txt
```
Взаємодія:
```text
+ apple
? apple
p level
- apple
.
```

### Підрахунок дублікатів (`groupdups`)
- Вхід: рядки зі стандартного вводу (або через файл/pipe).
- Вивід: усі рядки з кратністю > 1 у форматі `рядок кількість`.
- Складність: O(n) за кількістю рядків (залежно від хешування).

### Перевірка паліндромів (`palin`)
- Обчислює і виводить рядки-паліндроми та їх кількості з потоку вводу.
- Перевірка паліндрому робиться через порівняння з розворотом.

### Z-функція (`z`)
- Для одного рядка обчислюється масив Z: `Z[i]` — довжина найбільшого префікса, що збігається з підрядком, який починається в `i`.
- Алгоритм лінійний, підтримує поточний відрізок [l, r] максимального збігу.
- Складність: O(n).

### Нотатки щодо коректності
- Хешування 64-бітове може мати колізії, але на практиці з обраною базою це рідкісні випадки.
- Для надійнішої перевірки рівності рядків у структурі даних зберігається і сам рядок, і його хеш.


